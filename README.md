# Universal Document Converter

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Docker-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ—Ñ–∏—Å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Markdown/JSON —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docling. –í–∫–ª—é—á–∞–µ—Ç —É–º–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é OCR, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —á–∞–Ω–∫–∏–Ω–≥.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ + –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **–£–º–Ω—ã–π OCR**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **Legacy –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: `.doc/.xls/.ppt` ‚Üí LibreOffice ‚Üí OOXML ‚Üí Docling
- **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ OCRmyPDF (deskew/denoise)
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤**: —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è "—à–∞–ø–æ–∫" –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞–Ω–∫–∏–Ω–≥**: –≥–∏–±—Ä–∏–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Markdown
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**: —Ä–µ–∂–∏–º ACCURATE —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
universal_converter/
‚îú‚îÄ‚îÄ docker-compose.yml          # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ Dockerfile                  # –û–±—Ä–∞–∑ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements-dev.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ pyproject.toml             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–æ–≤/—Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ .pre-commit-config.yaml    # Git —Ö—É–∫–∏ (black/flake8/pytest)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ main.py               # –û—Å–Ω–æ–≤–Ω–æ–π FastAPI —Å–µ—Ä–≤–∏—Å (1250+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ header_filter.example.json  # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ header_filter.json          # –ë–æ–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤ .gitignore)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_health.py        # –¢–µ—Å—Ç health endpoint
‚îÇ   ‚îî‚îÄ‚îÄ test_ocr_pdf.py       # –¢–µ—Å—Ç OCR —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π PDF
‚îî‚îÄ‚îÄ data/                     # –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Ç–æ–º)
```

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (MAX_FILE_SIZE_MB)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MIME-type –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

2. **Legacy —Ñ–æ—Ä–º–∞—Ç—ã** (`.doc/.xls/.ppt`)
   ```
   Input ‚Üí LibreOffice CLI ‚Üí OOXML ‚Üí Docling (do_ocr=False)
           ‚Üì (–ø—Ä–∏ –æ—à–∏–±–∫–µ)
   Fallback: LibreOffice ‚Üí PDF ‚Üí OCR —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
   ```

3. **PDF/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (–¥–≤—É—Ö—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
   ```
   Input PDF ‚Üí OCRmyPDF preprocessing (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
             ‚Üì
   Strategy A: no_ocr (Docling —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å OCR)
   Strategy B: force_ocr (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π Tesseract)
             ‚Üì
   –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä: score = length √ó (0.6 + 0.4 √ó cyrillic_ratio)
   ```

4. **OOXML/HTML/MD/CSV**
   ```
   Input ‚Üí Docling (–Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ OCR)
         ‚Üì (–ø—Ä–∏ –æ—à–∏–±–∫–µ)
   Fallback: ‚Üí PDF ‚Üí OCR —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
   ```

5. **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è "—à–∞–ø–∫–∏" –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞

### –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

**–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
- –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–æ–∫ –∞–±–∑–∞—Ü–µ–≤ –ø–æ –≤—Å–µ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É
- –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ —á–∞—Å—Ç–æ—Ç–µ (‚â•3 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π) + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ regex + –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- –ê–Ω–∞–ª–∏–∑ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (–¥–æ 20 —Å—Ç—Ä–æ–∫, –º–∞–∫—Å. 6 —Å—Ç—Ä–æ–∫ –±–ª–æ–∫–∞)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ Markdown –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (`# ...`)
- –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º + –¥–æ–ª–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞

## üõ† API Documentation

### GET /health
–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

**Response:**
```json
{ "ok": true }
```

### POST /convert
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**Request:**
- `file` (file, required): –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `out` (string, optional): `markdown` | `json` | `both` (default: `both`)
- `langs` (string, optional): –Ø–∑—ã–∫–∏ OCR, –Ω–∞–ø—Ä. `rus,eng` (default: –∏–∑ `DOCLING_LANGS`)
- `max_pages` (int, optional): –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü

**Response:**
```json
{
  "best_strategy": "force_ocr",
  "trials": [
    {
      "strategy": "no_ocr",
      "length": 1200,
      "cyr_ratio": 0.32,
      "score": 936.0,
      "header_removed": 2,
      "first_header_removed": 3
    },
    {
      "strategy": "force_ocr", 
      "length": 1950,
      "cyr_ratio": 0.48,
      "score": 1497.0,
      "header_removed": 2,
      "first_header_removed": 3
    }
  ],
  "content_markdown": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–¢–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞...",
  "content_json": { "pages": [...] },
  "meta": {
    "filename": "input.pdf",
    "size_bytes": 123456,
    "converted": true,
    "out": "both",
    "langs": "rus,eng",
    "max_pages": null
  }
}
```

### POST /chunk
–ì–∏–±—Ä–∏–¥–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Markdown.

**Request:**
```json
{
  "text": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞...",
  "max_chars": 2000,
  "overlap": 200,
  "preserve_markdown": true
}
```

**Response:**
```json
{
  "chunks": [
    {
      "index": 0,
      "start": 0,
      "end": 150,
      "text": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞..."
    }
  ],
  "meta": {
    "total_chunks": 1,
    "strategy": "hybrid"
  }
}
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------------------|----------|
| `UVICORN_HOST` | `0.0.0.0` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `UVICORN_PORT` | `8088` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `DOCLING_ARTIFACTS_PATH` | `/opt/docling-models` | –ü—É—Ç—å –∫ –º–æ–¥–µ–ª—è–º Docling |
| `DOCLING_TABLE_MODE` | `ACCURATE` | –†–µ–∂–∏–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü |
| `DOCLING_LANGS` | `rus,eng` | –Ø–∑—ã–∫–∏ OCR –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `MAX_FILE_SIZE_MB` | `80` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ |
| `HEADER_FILTER_CONFIG` | `config/header_filter.json` | –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ |
| `OMP_NUM_THREADS` | `4` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ OpenMP |

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–§–∞–π–ª `config/header_filter.json`:
```json
{
  "min_repeats": 3,
  "min_length": 4, 
  "uppercase_ratio": 0.6,
  "keywords": ["–û–û–û", "–ê–û", "–ú–ò–ù–ò–°–¢–ï–†–°–¢–í–û", ...],
  "first_page": {
    "enable": true,
    "lines_limit": 20,
    "max_block_lines": 6,
    "uppercase_ratio": 0.6,
    "keywords": ["–û–û–û", "–ê–û", "–§–ï–î–ï–†–ê–õ–¨–ù–û–ï", ...]
  }
}
```

## üìã –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ OCR**
```python
# –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —ç–≤—Ä–∏—Å—Ç–∏–∫—É –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É
def semantic_quality_score(text: str) -> float:
    # –°–ª–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–¥–æ–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–ª–æ–≤)
    # –≠–Ω—Ç—Ä–æ–ø–∏—è —Å–∏–º–≤–æ–ª–æ–≤ (–¥–µ—Ç–µ–∫—Ü–∏—è "–º—É—Å–æ—Ä–Ω–æ–≥–æ" OCR)  
    # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (–ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
    # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–Ω–æ–º–µ—Ä–∞, –¥–∞—Ç—ã, email)
    pass
```

#### 2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π OCR —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–≤–∏–∂–∫–∞–º–∏**
```python
# –ö–∞—Å–∫–∞–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è OCR
strategies = [
    {"engine": "docling_native", "weight": 1.0},
    {"engine": "tesseract", "psm": [6, 4, 11], "weight": 0.8},
    {"engine": "paddleocr", "lang": ["ru", "en"], "weight": 0.9},
    {"engine": "easyocr", "weight": 0.7}
]
# Ensemble voting –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

#### 3. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ-–æ—Å–æ–∑–Ω–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ layout analysis –æ—Ç Docling –¥–ª—è —É–º–Ω–æ–≥–æ —á–∞–Ω–∫–∏–Ω–≥–∞
def structure_aware_processing(doc: DoclingDocument):
    # –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º: headers, paragraphs, tables, figures
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø—Ä–∏ —á–∞–Ω–∫–∏–Ω–≥–µ
    # –û—Ç–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü (OCR + —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (OCR + caption generation)
    pass
```

#### 4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–º–Ω–æ–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π**
```python
# Redis-based –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ö–µ—à—É —Ñ–∞–π–ª–∞ + –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
cache_key = hash(file_content + lang + ocr_params + model_version)
# Warm-up cache –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 5. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# Celery/RQ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
@app.post("/convert/async")
async def convert_async():
    job_id = await queue.enqueue(convert_task, file_data)
    return {"job_id": job_id, "status": "queued"}

@app.get("/convert/status/{job_id}")
async def get_status(job_id: str):
    return await queue.get_job_status(job_id)
```

#### 6. **–£–º–Ω–æ–µ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ**
```python
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü PDF
async def parallel_page_processing(pdf_pages: List[bytes]) -> List[str]:
    tasks = [process_page_ocr(page) for page in pdf_pages]
    results = await asyncio.gather(*tasks)
    return merge_pages_with_structure(results)
```

#### 7. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ workers –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏/CPU –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
# Graceful degradation –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
```

### üß† –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—è

#### 8. **ML-driven –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –û–±—É—á–∞–µ–º–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è OCR –æ—à–∏–±–æ–∫
# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–≤–∞—Ä–µ–π –∏ n-–≥—Ä–∞–º–º
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è —è–∑—ã–∫–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
```

#### 9. **–ì–∏–±—Ä–∏–¥–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è**
```python
def next_gen_chunking(doc: DoclingDocument, embeddings_model: str):
    # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –∞–±–∑–∞—Ü–∞–º–∏
    # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏  
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü (–Ω–µ –ª–æ–º–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã/—Å–ø–∏—Å–∫–∏)
    # Overlap –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ attention –º–µ—Ö–∞–Ω–∏–∑–º—ã
    pass
```

#### 10. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Computer Vision –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∏–∞–≥—Ä–∞–º–º/–≥—Ä–∞—Ñ–∏–∫–æ–≤
# OCR + Visual Question Answering –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –º–∞–∫–µ—Ç–æ–≤
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ alt-—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### 11. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
```python
# Confidence scores –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
# Heatmap –∫–∞—á–µ—Å—Ç–≤–∞ OCR –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
# A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π OCR
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π feedback loop –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
```

#### 12. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**
```python
# –ê–≤—Ç–æ–¥–µ—Ç–µ–∫—Ü–∏—è "–ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö" –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
# –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö OCR
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 13. **Sandboxing –∏ –∏–∑–æ–ª—è—Ü–∏—è**
```python
# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ LibreOffice –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ/namespace
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
# –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
```

#### 14. **–ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤**
```python
# Streaming upload/download –¥–ª—è —Ñ–∞–π–ª–æ–≤ >100MB
# Chunked processing —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
# –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∑—Ä–µ–ª—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞, –º—É–ª—å—Ç–∏–¥–≤–∏–∂–∫–æ–≤—ã–π OCR, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ-–æ—Å–æ–∑–Ω–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.# Universal Document Converter

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Docker-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ—Ñ–∏—Å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, PDF –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Markdown/JSON —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docling. –í–∫–ª—é—á–∞–µ—Ç —É–º–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é OCR, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —á–∞–Ω–∫–∏–Ω–≥.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ + –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **–£–º–Ω—ã–π OCR**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **Legacy –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: `.doc/.xls/.ppt` ‚Üí LibreOffice ‚Üí OOXML ‚Üí Docling
- **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ OCRmyPDF (deskew/denoise)
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤**: —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è "—à–∞–ø–æ–∫" –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞–Ω–∫–∏–Ω–≥**: –≥–∏–±—Ä–∏–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Markdown
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**: —Ä–µ–∂–∏–º ACCURATE —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
universal_converter/
‚îú‚îÄ‚îÄ docker-compose.yml          # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ Dockerfile                  # –û–±—Ä–∞–∑ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements-dev.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ pyproject.toml             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–∏–Ω—Ç–µ—Ä–æ–≤/—Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ .pre-commit-config.yaml    # Git —Ö—É–∫–∏ (black/flake8/pytest)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ main.py               # –û—Å–Ω–æ–≤–Ω–æ–π FastAPI —Å–µ—Ä–≤–∏—Å (1250+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ header_filter.example.json  # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ header_filter.json          # –ë–æ–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–≤ .gitignore)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_health.py        # –¢–µ—Å—Ç health endpoint
‚îÇ   ‚îî‚îÄ‚îÄ test_ocr_pdf.py       # –¢–µ—Å—Ç OCR —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π PDF
‚îî‚îÄ‚îÄ data/                     # –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Ç–æ–º)
```

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (MAX_FILE_SIZE_MB)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MIME-type –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

2. **Legacy —Ñ–æ—Ä–º–∞—Ç—ã** (`.doc/.xls/.ppt`)
   ```
   Input ‚Üí LibreOffice CLI ‚Üí OOXML ‚Üí Docling (do_ocr=False)
           ‚Üì (–ø—Ä–∏ –æ—à–∏–±–∫–µ)
   Fallback: LibreOffice ‚Üí PDF ‚Üí OCR —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
   ```

3. **PDF/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (–¥–≤—É—Ö—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
   ```
   Input PDF ‚Üí OCRmyPDF preprocessing (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
             ‚Üì
   Strategy A: no_ocr (Docling —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å OCR)
   Strategy B: force_ocr (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π Tesseract)
             ‚Üì
   –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä: score = length √ó (0.6 + 0.4 √ó cyrillic_ratio)
   ```

4. **OOXML/HTML/MD/CSV**
   ```
   Input ‚Üí Docling (–Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ OCR)
         ‚Üì (–ø—Ä–∏ –æ—à–∏–±–∫–µ)
   Fallback: ‚Üí PDF ‚Üí OCR —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
   ```

5. **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è "—à–∞–ø–∫–∏" –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞

### –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

**–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
- –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–æ–∫ –∞–±–∑–∞—Ü–µ–≤ –ø–æ –≤—Å–µ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É
- –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ —á–∞—Å—Ç–æ—Ç–µ (‚â•3 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π) + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ regex + –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- –ê–Ω–∞–ª–∏–∑ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (–¥–æ 20 —Å—Ç—Ä–æ–∫, –º–∞–∫—Å. 6 —Å—Ç—Ä–æ–∫ –±–ª–æ–∫–∞)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ Markdown –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (`# ...`)
- –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º + –¥–æ–ª–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞

## üõ† API Documentation

### GET /health
–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

**Response:**
```json
{ "ok": true }
```

### POST /convert
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**Request:**
- `file` (file, required): –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `out` (string, optional): `markdown` | `json` | `both` (default: `both`)
- `langs` (string, optional): –Ø–∑—ã–∫–∏ OCR, –Ω–∞–ø—Ä. `rus,eng` (default: –∏–∑ `DOCLING_LANGS`)
- `max_pages` (int, optional): –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü

**Response:**
```json
{
  "best_strategy": "force_ocr",
  "trials": [
    {
      "strategy": "no_ocr",
      "length": 1200,
      "cyr_ratio": 0.32,
      "score": 936.0,
      "header_removed": 2,
      "first_header_removed": 3
    },
    {
      "strategy": "force_ocr", 
      "length": 1950,
      "cyr_ratio": 0.48,
      "score": 1497.0,
      "header_removed": 2,
      "first_header_removed": 3
    }
  ],
  "content_markdown": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–¢–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞...",
  "content_json": { "pages": [...] },
  "meta": {
    "filename": "input.pdf",
    "size_bytes": 123456,
    "converted": true,
    "out": "both",
    "langs": "rus,eng",
    "max_pages": null
  }
}
```

### POST /chunk
–ì–∏–±—Ä–∏–¥–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Markdown.

**Request:**
```json
{
  "text": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞...",
  "max_chars": 2000,
  "overlap": 200,
  "preserve_markdown": true
}
```

**Response:**
```json
{
  "chunks": [
    {
      "index": 0,
      "start": 0,
      "end": 150,
      "text": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–ê–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞..."
    }
  ],
  "meta": {
    "total_chunks": 1,
    "strategy": "hybrid"
  }
}
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------------------|----------|
| `UVICORN_HOST` | `0.0.0.0` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `UVICORN_PORT` | `8088` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `DOCLING_ARTIFACTS_PATH` | `/opt/docling-models` | –ü—É—Ç—å –∫ –º–æ–¥–µ–ª—è–º Docling |
| `DOCLING_TABLE_MODE` | `ACCURATE` | –†–µ–∂–∏–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü |
| `DOCLING_LANGS` | `rus,eng` | –Ø–∑—ã–∫–∏ OCR –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `MAX_FILE_SIZE_MB` | `80` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ |
| `HEADER_FILTER_CONFIG` | `config/header_filter.json` | –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ |
| `OMP_NUM_THREADS` | `4` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ OpenMP |

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–§–∞–π–ª `config/header_filter.json`:
```json
{
  "min_repeats": 3,
  "min_length": 4, 
  "uppercase_ratio": 0.6,
  "keywords": ["–û–û–û", "–ê–û", "–ú–ò–ù–ò–°–¢–ï–†–°–¢–í–û", ...],
  "first_page": {
    "enable": true,
    "lines_limit": 20,
    "max_block_lines": 6,
    "uppercase_ratio": 0.6,
    "keywords": ["–û–û–û", "–ê–û", "–§–ï–î–ï–†–ê–õ–¨–ù–û–ï", ...]
  }
}
```

## üìã –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ OCR**
```python
# –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —ç–≤—Ä–∏—Å—Ç–∏–∫—É –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É
def semantic_quality_score(text: str) -> float:
    # –°–ª–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–¥–æ–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–ª–æ–≤)
    # –≠–Ω—Ç—Ä–æ–ø–∏—è —Å–∏–º–≤–æ–ª–æ–≤ (–¥–µ—Ç–µ–∫—Ü–∏—è "–º—É—Å–æ—Ä–Ω–æ–≥–æ" OCR)  
    # –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (–ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
    # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–Ω–æ–º–µ—Ä–∞, –¥–∞—Ç—ã, email)
    pass
```

#### 2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π OCR —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–≤–∏–∂–∫–∞–º–∏**
```python
# –ö–∞—Å–∫–∞–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è OCR
strategies = [
    {"engine": "docling_native", "weight": 1.0},
    {"engine": "tesseract", "psm": [6, 4, 11], "weight": 0.8},
    {"engine": "paddleocr", "lang": ["ru", "en"], "weight": 0.9},
    {"engine": "easyocr", "weight": 0.7}
]
# Ensemble voting –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

#### 3. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ-–æ—Å–æ–∑–Ω–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ layout analysis –æ—Ç Docling –¥–ª—è —É–º–Ω–æ–≥–æ —á–∞–Ω–∫–∏–Ω–≥–∞
def structure_aware_processing(doc: DoclingDocument):
    # –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º: headers, paragraphs, tables, figures
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –ø—Ä–∏ —á–∞–Ω–∫–∏–Ω–≥–µ
    # –û—Ç–¥–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü (OCR + —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (OCR + caption generation)
    pass
```

#### 4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–º–Ω–æ–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π**
```python
# Redis-based –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ö–µ—à—É —Ñ–∞–π–ª–∞ + –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
cache_key = hash(file_content + lang + ocr_params + model_version)
# Warm-up cache –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 5. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# Celery/RQ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
@app.post("/convert/async")
async def convert_async():
    job_id = await queue.enqueue(convert_task, file_data)
    return {"job_id": job_id, "status": "queued"}

@app.get("/convert/status/{job_id}")
async def get_status(job_id: str):
    return await queue.get_job_status(job_id)
```

#### 6. **–£–º–Ω–æ–µ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ**
```python
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü PDF
async def parallel_page_processing(pdf_pages: List[bytes]) -> List[str]:
    tasks = [process_page_ocr(page) for page in pdf_pages]
    results = await asyncio.gather(*tasks)
    return merge_pages_with_structure(results)
```

#### 7. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ workers –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏/CPU –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
# Graceful degradation –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
```

### üß† –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—è

#### 8. **ML-driven –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –û–±—É—á–∞–µ–º–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è OCR –æ—à–∏–±–æ–∫
# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–≤–∞—Ä–µ–π –∏ n-–≥—Ä–∞–º–º
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è —è–∑—ã–∫–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
```

#### 9. **–ì–∏–±—Ä–∏–¥–Ω—ã–π —á–∞–Ω–∫–∏–Ω–≥ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è**
```python
def next_gen_chunking(doc: DoclingDocument, embeddings_model: str):
    # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –∞–±–∑–∞—Ü–∞–º–∏
    # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏  
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü (–Ω–µ –ª–æ–º–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã/—Å–ø–∏—Å–∫–∏)
    # Overlap –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ attention –º–µ—Ö–∞–Ω–∏–∑–º—ã
    pass
```

#### 10. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Computer Vision –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∏–∞–≥—Ä–∞–º–º/–≥—Ä–∞—Ñ–∏–∫–æ–≤
# OCR + Visual Question Answering –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –º–∞–∫–µ—Ç–æ–≤
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ alt-—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### 11. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
```python
# Confidence scores –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
# Heatmap –∫–∞—á–µ—Å—Ç–≤–∞ OCR –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã  
# A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π OCR
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π feedback loop –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
```

#### 12. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**
```python
# –ê–≤—Ç–æ–¥–µ—Ç–µ–∫—Ü–∏—è "–ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö" –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
# –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö OCR
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 13. **Sandboxing –∏ –∏–∑–æ–ª—è—Ü–∏—è**
```python
# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ LibreOffice –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ/namespace
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
# –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
```

#### 14. **–ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤**
```python
# Streaming upload/download –¥–ª—è —Ñ–∞–π–ª–æ–≤ >100MB
# Chunked processing —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
# –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```
